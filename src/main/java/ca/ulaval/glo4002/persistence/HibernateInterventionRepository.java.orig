package ca.ulaval.glo4002.persistence;

import javax.persistence.EntityManager;

<<<<<<< HEAD:src/main/java/ca/ulaval/glo4002/persistence/intervention/HibernateInterventionRepository.java
import ca.ulaval.glo4002.domain.intervention.*;
import ca.ulaval.glo4002.persistence.HibernateRepository;
=======
import ca.ulaval.glo4002.domain.intervention.Intervention;
import ca.ulaval.glo4002.domain.intervention.InterventionNotFoundException;
import ca.ulaval.glo4002.domain.intervention.InterventionRepository;
>>>>>>> RéusinageUS2:src/main/java/ca/ulaval/glo4002/persistence/HibernateInterventionRepository.java

public class HibernateInterventionRepository extends HibernateRepository implements InterventionRepository {

	public HibernateInterventionRepository() {
		super();
	}

	public HibernateInterventionRepository(EntityManager entityManager) {
		super(entityManager);
	}

	public void persist(Intervention intervention) {
		entityManager.persist(intervention);
	}

	public void update(Intervention intervention) {
		entityManager.merge(intervention);
	}

<<<<<<< HEAD:src/main/java/ca/ulaval/glo4002/persistence/intervention/HibernateInterventionRepository.java
	public Intervention getById(Integer id) throws InterventionNotFoundException {
		Intervention intervention = entityManager.find(Intervention.class, id);
		if (intervention == null) {
			throw new InterventionNotFoundException(String.format("Impossible de trouver l'intervention avec id '%s'.", id));
=======
	public Intervention getById(int id) {
		Intervention intervention = entityManager.find(Intervention.class, id);
		if (intervention == null) {
			throw new InterventionNotFoundException(String.format("Cannot find Intervention with id '%s'.", id));
>>>>>>> RéusinageUS2:src/main/java/ca/ulaval/glo4002/persistence/HibernateInterventionRepository.java
		}
		return intervention;
	}
}
